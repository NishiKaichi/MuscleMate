{% extends "layout_login.html" %}

{% block title %}
  {{ user_info['username'] }}さんの俳句ページ
{% endblock %}

{% block contents %}
<style>
  .haiku-list{
    max-height: 400px; /*#高さを設定*/
    overflow-y: auto;
  }
</style>

{{ user_info['username'] }}さんの俳句ページ

{% if user_info['id'] != current_user_id %}
<div class="box_c">
  {% if is_fav %}
  <form action="/remove_fav/{{ user_info['id'] }}" method="POST">
    <button type="submit" class="pure-button">お気に入り解除</button>
  </form>
  {% else %}
    <form action="/add_fav/{{ user_info['id'] }}" method="POST">
    <button type="submit" class="pure-button">お気に入り追加</button>
  </form>
  {% endif %}
</div>
{% endif %}

<h3>作品</h3>

{% if haikus | length == 0 %}
  作品はまだありません。
{% else %}
  <div class="haiku-list">
    {% for haiku in haikus %}
      <div class="haiku">
        {{ haiku.content | linebreaks }}
        {% if haiku.image_path %}
        <br><img src="{{ url_for('static', filename='uploads/' ~ haiku.image_path) }}" alt="Image">
        {% endif %}
        <p class="info">{{ haiku.timestamp | datestr }}</p>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% endblock %}
